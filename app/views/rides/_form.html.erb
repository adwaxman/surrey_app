<%= form_tag rides_path, method: :post  do %>
<div class="destination-section">
  <h2 class="center destination-section-heading">Where would you like to go?</h2>
  <% if current_member && current_member.destinations.length >=1 %>
  <div class="submit-previous-destination">
    <div class="row">
      <div class="input-field col s8 offset-s2">

        <h5 class="center">
          Select from one of your previous destinations below
        </h5>
        <%= select_tag :destination_id,
            options_from_collection_for_select(current_member.destinations, :id, :name), class: 'validate browser-default', prompt: "Select a previous destination..."%>
      </div>
    </div>
    <div class="row">
      <div class="center">
        <a class="btn prev-dest-btn"> Submit </a>
      </div>
    </div>

    <h3 class="center">OR</h3>
    <div class='center'>
      <a class='btn trigger-destination-dropdown'>Add a new destination</a>
    </div>
  </div>
  <% end %>
  <div class="dropdown-add-destination">
    <h3 class="center">Add new destination</h3>

    <div class="row">
      <div class="input-field col s10 offset-s1">
        <%= text_field_tag :destination_name, nil, class:'validate' %>
        <%= label_tag :destination_name, 'Name' %>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s10 offset-s1">
        <%= text_field_tag :destination_address_line1, nil, class: "validate" %>
        <%= label_tag :destination_address_line1, "Address line 1" %>
      </div>
      <div class="input-field col s10 offset-s1">
        <%= text_field_tag :destination_address_line2, nil, class:"validate" %>
        <%= label_tag :destination_address_line2, "Address line 2" %>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s5 offset-s1">
        <%= text_field_tag :destination_city, nil, class: "validate" %>
        <%= label_tag :destination_city, "City" %>
      </div>
      <div class="input-field col s2">
        <%= select_tag :destination_state, options_for_select([['PA', 1], ['NJ', 2], ['DE', 3]]), class: "validate browser-default" %>
      </div>
      <div class="input-field col s3">
        <%= text_field_tag :destination_zip, nil, class: "validate" %>
        <%= label_tag :destination_zip, "Zip code" %>
      </div>
    </div>

    <div class="row">
      <div class="input-field col s4 offset-s4">
        <p>
          Reason:
        </p>
        <%= radio_button_tag :destination_type, "doctor", false, class: 'with-gap' %>
        <%= label_tag(:destination_type_doctor, "Doctor's appointment") %>
        <br>
        <%= radio_button_tag :destination_type, "grocery", false, class: 'with-gap' %>
        <%= label_tag(:destination_type_grocery, "Grocery store") %>
        <br>
        <%= radio_button_tag :destination_type, "salon", false, class: 'with-gap' %>
        <%= label_tag(:destination_type_salon, "Hair salon") %>
        <br>

      </div>
    </div>
    <div class="row">
      <div class="input-field col s4 offset-s4">
        <%= label_tag :destination_other_type, "Click below to list another reason"  %>
        <%= text_field_tag :destination__other_type, nil, placeholder: ' ' %>
      </div>
    </div>

    <div class="row center">
      <a class="btn add-destination-btn">
        Add Destination</a>
    </div>
  </div>
</div>

<div class="origin-section">
  <h2 class="center origin-section-heading">Where would you like to be picked up?</h2>
  <% if current_member && current_member.origins.length >=1 %>
  <div class="submit-previous-origin">
    <div class="row">
      <div class="input-field col s8 offset-s2">

        <h5 class="center">
          Select from one of your previous pickup locations below
        </h5>
        <%= select_tag :origin_id,
              options_from_collection_for_select(current_member.origins, :id, :address_line1), class: 'validate browser-default', prompt: "Select a previous pickup location..."%>

      </div>
    </div>
    <div class="row">
      <div class="center">
        <a class="btn prev-origin-btn">Submit</a>
      </div>
    </div>

    <h3 class="center">OR</h3>
    <div class='center'>
      <a class='btn trigger-origin-dropdown'>Add a new pickup location</a>
    </div>
  </div>
  <% end %>
  <div class="dropdown-add-origin">
    <h3 class="center">Add new pickup location</h3>
    <div class="row">
      <div class="input-field col s10 offset-s1">
        <%= text_field_tag :origin_address_line1, nil, class: "validate" %>
        <%= label_tag :origin_address_line1, "Address line 1" %>
      </div>
      <div class="input-field col s10 offset-s1">
        <%= text_field_tag :origin_address_line2, nil, class:"validate" %>
        <%= label_tag :origin_address_line2, "Address line 2" %>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s5 offset-s1">
        <%= text_field_tag :origin_city, nil, class: "validate" %>
        <%= label_tag :origin_city, "City" %>
      </div>
      <div class="input-field col s2">
        <%= select_tag :origin_state, options_for_select([['PA', 1], ['NJ', 2], ['DE', 3]]), class: "validate browser-default" %>
      </div>
      <div class="input-field col s3">
        <%= text_field_tag :origin_zip, nil, class: "validate" %>
        <%= label_tag :origin_zip, "Zip code" %>
      </div>
    </div>
    <div class="row center">
      <a class="btn add-origin-btn">
        Add Origin</a>
    </div>
  </div>
</div>

<br>
<br>

<div class="ride-section">
  <div class="row">
    <div class="input-field col s6 offset-s3">
      <%= label_tag :pickup_date, "Click below to select a date", class: "datepicker-label", style: "font-size: 18px" %>
      <input , class="datepicker" name="pickup_date" placeholder=" " type="date">
    </div>
  </div>
  <div class="row">
    <div class="input-field col s6 offset-s3">
      <%= label_tag :pickup_time, "Click below to select a time", class: "timepicker-label", style: "font-size: 18px" %>
      <input class="timepicker" name="pickup_time" placeholder=" " type="text">
    </div>
  </div>
  <div class="row">
    <div class="input-field col s6 offset-s3">
      <p>
        Please check all that apply:
      </p>
      <%= check_box_tag :wheelchair, true %>
      <%= label_tag :wheelchair, "I will have a wheelchair"  %>
      <br>
      <%= check_box_tag :aide, true %>
      <%= label_tag :aide, "I will have an aide/additional person with me" %>
      <br>
      <%= check_box_tag :vision_impaired, true %>
      <%= label_tag :vision_impaired, "My vision is impaired" %>
      <br>
      <%= check_box_tag :hearing_impaired, true %>
      <%= label_tag :hearing_impaired, "My hearing is impaired" %>
    </div>

  </div>

  <div class="center">
    <br>
    <br>
    <br>
    <br>
    <br>
    <%= submit_tag :submit, class: "btn submit-ride-btn" %>
  </div>
</div>

<% if current_member %>
<div class="workaround">
  <%= current_member.origins.length %>
</div>
<% end %>

<% end %>
<script>
  $('.timepicker').pickatime({
    interval: 15,
    min: [
      6, 0
    ],
    max: [18, 0]
  });
</script>
